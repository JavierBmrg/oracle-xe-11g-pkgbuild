diff -Naur oracle-xe.old/etc/init.d/oracle-xe oracle-xe.new/etc/init.d/oracle-xe
--- oracle-xe.old/etc/init.d/oracle-xe	2011-08-29 14:53:04.000000000 +0900
+++ oracle-xe.new/etc/init.d/oracle-xe	2012-06-26 06:15:24.885206859 +0900
@@ -17,13 +17,8 @@
 #
 
 # Source fuction library
-if [ -f /lib/lsb/init-functions ]
-then
-	. /lib/lsb/init-functions
-elif [ -f /etc/init.d/functions ]
-then
-	. /etc/init.d/functions
-fi
+. /etc/rc.conf
+. /etc/rc.d/functions
 
 # Set path if path not set (if called from /etc/rc)
 case $PATH in
@@ -50,7 +45,7 @@
 if [ -z "$GREP" ]; then GREP=/usr/bin/grep; fi
 if [ ! -f "$GREP" ]; then GREP=/bin/grep; fi
 if [ -z "$SED" ]; then SED=/bin/sed; fi
-if [ -z "$AWK" ]; then AWK=/bin/awk; fi
+if [ -z "$AWK" ]; then AWK=/usr/bin/awk; fi
 if [ -z "$SU" ];then SU=/bin/su; fi
 
 export LC_ALL=C
@@ -66,7 +61,7 @@
 CONFIGURATION="/etc/sysconfig/$CONFIG_NAME"
 if [ -f /etc/redhat-release ]
 then
-    . /etc/init.d/functions
+    . /etc/rc.d/functions
 
     init_status()
     {
@@ -179,7 +174,7 @@
     
 #This is a configuration file for automatic starting of the Oracle
 #Database and listener at system startup.It is generated By running
-#'/etc/init.d/oracle-xe configure'.Please use that method to modify this 
+#'/etc/rc.d/oracle-xe configure'.Please use that method to modify this 
 #file
 
 # ORACLE_DBENABLED:'true' means to load the Database at system boot.
@@ -264,10 +259,10 @@
 
     if [ -f $ORACLE_HOME/bin/tnslsnr ]  
     then
-     	echo -n "Starting Oracle Net Listener..."
+     	stat_busy "Starting Oracle Net Listener..."
        	$SU -s /bin/bash $ORACLE_OWNER -c "$LSNR  start" > /dev/null 2>&1
-	touch /var/lock/subsys/listener
-	echo "Done"
+	add_daemon listener
+	stat_done
     fi
 
     echo -n "Configuring database..."
@@ -312,15 +307,15 @@
 	$CHMOD 664 /etc/oratab
     fi
     
-   echo -n "Starting Oracle Database 11g Express Edition instance..."
+   stat_busy "Starting Oracle Database 11g Express Edition instance..."
    pmon=`ps -ef | egrep pmon_$ORACLE_SID'\>' | grep -v grep`
 
    if [ "$pmon" = "" ];
    then
 	$SU -s /bin/bash  $ORACLE_OWNER -c "$SQLPLUS -s /nolog @$ORACLE_HOME/config/scripts/startdb.sql" > /dev/null 2>&1
-	touch /var/lock/subsys/oracle-xe
+	add_daemon oracle-xe
    fi
-   echo "Done"
+   stat_done
 
    echo "Installation completed successfully."
 
@@ -549,7 +544,7 @@
 	if [ "$CONFIGURE_RUN" != "true" ]		
 	then
 	echo "Oracle Database 11g Express Edition is not configured.  You must run
-'/etc/init.d/oracle-xe configure' as the root user to configure the database."
+'/etc/rc.d/oracle-xe configure' as the root user to configure the database."
 		exit 0
 	fi
 	status=`ps -ef | grep tns | grep oracle`
@@ -557,28 +552,31 @@
 	then
 		if [ -f $ORACLE_HOME/bin/tnslsnr ]  
 	        then
-		     	echo "Starting Oracle Net Listener."
+		     	stat_busy "Starting Oracle Net Listener."
         		$SU -s /bin/bash $ORACLE_OWNER -c "$LSNR  start" > /dev/null 2>&1
-			touch /var/lock/subsys/listener
+			add_daemon listener
+			stat_done
 		fi
 	fi
 	pmon=`ps -ef | egrep pmon_$ORACLE_SID'\>' | grep -v grep`
         if [ "$pmon" = "" ];
         then
-                echo "Starting Oracle Database 11g Express Edition instance."
+                stat_busy "Starting Oracle Database 11g Express Edition instance."
                 $SU -s /bin/bash  $ORACLE_OWNER -c "$SQLPLUS -s /nolog @$ORACLE_HOME/config/scripts/startdb.sql" > /dev/null 2>&1
         else
                 echo "Oracle Database 11g Express Edition instance is already started"
+                exit
         fi
     	RETVAL=$?
 	if [ $RETVAL -eq 0 ]
 	then
-        	echo
-		touch /var/lock/subsys/oracle-xe
-	 else
-        	echo Failed to start Oracle Net Listener using $ORACLE_HOME/bin/tnslsnr\
+		add_daemon oracle-xe
+		stat_done
+	else
+		stat_fail
+		echo Failed to start Oracle Net Listener using $ORACLE_HOME/bin/tnslsnr\
  	      and Oracle Express Database using $ORACLE_HOME/bin/sqlplus.
-	     RETVAL=1
+		RETVAL=1
 	fi
 	return $RETVAL
 }
@@ -587,34 +585,38 @@
 	if [ "$CONFIGURE_RUN" != "true" ]               
     then
 	echo "Oracle Database 11g Express Edition is not configured.  You must run
-'/etc/init.d/oracle-xe configure' as the root user to configure the database."
+'/etc/rc.d/oracle-xe configure' as the root user to configure the database."
         exit 0
     fi
     
     # Stop Oracle 11g Express Edition Database and Listener
-    echo Shutting down Oracle Database 11g Express Edition instance.
+    stat_busy "Shutting down Oracle Database 11g Express Edition instance."
 	$SU -s /bin/bash $ORACLE_OWNER -c "$SQLPLUS -s /nolog @$ORACLE_HOME/config/scripts/stopdb.sql" > /dev/null 2>&1
-	echo Stopping Oracle Net Listener.
+	stat_done
+	stat_busy "Stopping Oracle Net Listener."
     $SU -s /bin/bash  $ORACLE_OWNER -c "$LSNR stop" > /dev/null 2>&1
     RETVAL=$?
-    echo 
-    if [ $RETVAL -eq 0 ] && rm -f /var/lock/subsys/listener
+    if [ $RETVAL -eq 0 ] && rm_daemon listener
     then
-	rm -f /var/lock/subsys/oracle-xe
-        return $RETVAL
+	rm_daemon oracle-xe
+	stat_done
+    else
+	stat_fail
+	RETVAL=1
     fi
+    return $RETVAL
 }
 
 dostatus() {
 	if test ! -f "$CONFIGURATION"
     then	
 	echo "Oracle Database 11g Express Edition is not configured.  You must run
-'/etc/init.d/oracle-xe configure' as the root user to configure the database."
+'/etc/rc.d/oracle-xe configure' as the root user to configure the database."
         exit 0
 	elif [ "$CONFIGURE_RUN" != "true" ]
     then
 	echo "Oracle Database 11g Express Edition is not configured.  You must run
-'/etc/init.d/oracle-xe configure' as the root user to configure the database."
+'/etc/rc.d/oracle-xe configure' as the root user to configure the database."
         exit 0
     fi
         
@@ -627,7 +629,7 @@
 
 case "$1" in
   start)
-	if [ "$0" != "/etc/init.d/oracle-xe" ]
+	if [ "$0" != "/etc/rc.d/oracle-xe" ]
 	then
 		if test -f "$CONFIGURATION"
 		then
@@ -637,7 +639,7 @@
 			fi
 		else
 		echo "Oracle Database 11g Express Edition is not configured.  You must run
-'/etc/init.d/oracle-xe configure' as the root user to configure the database."
+'/etc/rc.d/oracle-xe configure' as the root user to configure the database."
 		        exit 0
 		fi
 	fi
@@ -664,7 +666,7 @@
 	        write_sysconfig
 	else
 	echo "Oracle Database 11g Express Edition is not configured.  You must run
-'/etc/init.d/oracle-xe configure' as the root user to configure the database."
+'/etc/rc.d/oracle-xe configure' as the root user to configure the database."
 	exit 0
 	fi
         ;;
@@ -676,7 +678,7 @@
 	        write_sysconfig
 	else
 	echo "Oracle Database 11g Express Edition is not configured.  You must run
-'/etc/init.d/oracle-xe configure' as the root user to configure the database."
+'/etc/rc.d/oracle-xe configure' as the root user to configure the database."
 	exit 0
 	fi
 	;;
